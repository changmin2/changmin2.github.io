---
title:  "스프링부트 환경설정"

categories:
  - 스프링
tags:
  - Blog
toc: true
toc_sticky: true
---

## 스프링부트 환경설정하기

### 스프링 부트 스타터

- url : https://start.spring.io/

1. project는 요즘 gradle을 많이 쓰는 추세이므로 gradle선택
2. Dependencies에서 ADD DEPENDENCIES를 누르고 개발 환경에 필요한 dependencies추가
3. Spring Web, Spring Data JPA, Thymeleaf, 그리고 원하는 데이터베이스

### 라이브러리 살펴보기

- spring-boot-starter-web : 톰캣이라는 웹서버를 제공해주고 스프링 웹 MVC제공
- spring-boot-starter-thymeleaf : 템플릿엔진
- spring-boot-starter-data-jpa : HikariCP , 하이버네이트 제공
- spring-boot-starter : 스프링 부트 + 스프링 코어 + 로깅

### 데이터베이스 설정하기

1. application.properties 파일을 지우고 application.yml 파일을 생성해준다
2. mysql을 사용했으므로 mysql에 맞게 설정

'''java
    spring:
    datasource:
        url: jdbc:mysql://localhost:3306/비밀?serverTimezone=Asia/Seoul
        username: root
        password: 비밀
        driver-class-name: com.mysql.cj.jdbc.Driver

    jpa:
        hibernate:
    #      ddl-auto: create # 자동으로 테이블을 만들어줌 애플리케이션 실행시에 다 지우고 다시 실행
        properties:
        hibernate:
    #        show_sql: true
            format_sql: true

    logging:
    level:
        org.hibernate.SQL: debug
        org.hibernate.type: trace # values(?,?)의 ?에 입력되는 로그를 남겨준다.
'''

### 그 외

lombok은 스프링 컨테이너에 몇 줄안되는 코드로 올려준다.

'''java
    @Entity
    @Getter
    @Setter
    public class Member {
        @Id @GeneratedValue
        private Long id;
        private String username;


    }
'''
@Entity로 Member테이블을 컨테이너에 올려준다
@Getter @Setter로 getId()나 find()같은 객체를 지원해준다.

위 와 같이 member테이블이 생성하게 되면 Repository를 만들어서 컨트롤한다.

'''java
    @Repository // Entity에 의해 생성된 DB에 접근하는 메서드를 사용하기 위한 인터페이스이다.
    public class MemberRepository {

        @PersistenceContext
        private EntityManager em;

        public Long save(Member member)
        {
            em.persist(member);
            return member.getId();
        }

        public Member find(Long id)
        {
            return em.find(Member.class, id);
        }
    }

'''
EntityManager를 선언하여 em.persist(member)로 테이블을 등록하고 find와 같은 객체를 통하여 정보를 얻을 수 있다.

